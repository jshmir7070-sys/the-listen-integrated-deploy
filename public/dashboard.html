<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>대시보드 - The Listen</title>
<style>
  body{margin:0;background:#f5f7fa;font-family:"Noto Sans KR",sans-serif}
  header{background:#007bff;color:#fff;text-align:center;padding:12px;font-weight:800}
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;max-width:760px;margin:16px auto;padding:12px}
  .card{background:#fff;border-radius:16px;padding:18px;box-shadow:0 10px 26px rgba(0,0,0,.06);cursor:pointer}
  .title{font-weight:900;margin-bottom:6px}
  .num{font-weight:900;font-size:24px;text-align:right}
  .muted{color:#6b7280;margin-top:6px}
</style>
</head>
<body>
<header>대시보드</header>
<div class="grid">
  <div class="card" onclick="location.href='depart.html'">
    <div class="title">배송출발</div>
    <div class="num" id="scannedCnt">0</div>
    <div class="muted">스캔 잡은 수량</div>
  </div>
  <div class="card" onclick="location.href='map.html'">
    <div class="title">배송중 (지도)</div>
    <div class="num" id="inProgressCnt">0</div>
    <div class="muted">진행 중</div>
  </div>
  <div class="card" onclick="location.href='completed.html'">
    <div class="title">배송완료</div>
    <div class="num" id="completedCnt">0</div>
    <div class="muted">당일 완료</div>
  </div>
  <div class="card" onclick="location.href='stats.html'">
    <div class="title">실적 조회</div>
    <div class="num">▶</div>
  </div>
  <div class="card" onclick="location.href='howto.html'">
    <div class="title">앱 사용방법/회사 설명</div>
    <div class="num">▶</div>
  </div>
</div>
<script>
  const completed = JSON.parse(localStorage.getItem('completed')||'[]');
  const today = new Date().toISOString().slice(0,10);
  const todayDone = completed.filter(x=>x.date===today).length;
  const scanned = Number(localStorage.getItem('scanned')||'0');
  const total = Number(localStorage.getItem('totalDeliveries')||'0');
  document.getElementById('completedCnt').innerText = todayDone;
  document.getElementById('scannedCnt').innerText = scanned;
  document.getElementById('inProgressCnt').innerText = Math.max((total||0) - todayDone, 0);
</script>
</body>
</html>
